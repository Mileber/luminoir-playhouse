import{d as B,a as c,r as G,o as O,b as r,e as n,f as $,t as h,F as f,g as m,n as x,h as u,_ as D}from"./index-LnyyPkwa.js";const K={class:"klotski-game"},R={class:"container"},S={class:"game-info"},A={class:"moves"},F={class:"game-board",ref:"gameBoard"},L={key:0,class:"game-completed"},i=5,g=4,N=B({name:"KlotskiGame",__name:"KlotskiGame",setup(z){const t=c([]),s=G([]),d=c(0),v=c(!1),y=c(null),p=()=>{d.value=0,v.value=!1,y.value=null,t.value.length=0;for(let o=0;o<i;o++){const a=[];for(let e=0;e<g;e++)a.push(0);t.value.push(a)}s.length=0,s.push({id:1,type:2,row:0,col:0}),s.push({id:2,type:2,row:0,col:1}),s.push({id:3,type:2,row:0,col:2}),s.push({id:4,type:2,row:0,col:3}),s.push({id:5,type:3,row:1,col:0}),s.push({id:6,type:1,row:1,col:1}),s.push({id:7,type:4,row:1,col:3}),s.push({id:8,type:4,row:2,col:0}),s.push({id:9,type:4,row:2,col:1}),s.push({id:10,type:3,row:2,col:2}),s.push({id:11,type:2,row:3,col:0}),s.push({id:12,type:2,row:3,col:1}),s.push({id:13,type:3,row:3,col:2}),s.push({id:14,type:4,row:4,col:0}),s.push({id:15,type:4,row:4,col:3}),w()},w=()=>{for(let o=0;o<i;o++)if(t.value[o])for(let a=0;a<g;a++)a<t.value[o].length&&(t.value[o][a]=0);for(const o of s)_(o)},_=o=>{const{type:a,row:e,col:l}=o;switch(a){case 1:t.value[e]&&l<t.value[e].length&&(t.value[e][l]=o.id),t.value[e]&&l+1<t.value[e].length&&(t.value[e][l+1]=o.id),e+1<i&&t.value[e+1]&&l<t.value[e+1].length&&l+1<t.value[e+1].length&&(t.value[e+1][l]=o.id,t.value[e+1][l+1]=o.id);break;case 2:t.value[e]&&l<t.value[e].length&&(t.value[e][l]=o.id),e+1<i&&t.value[e+1]&&l<t.value[e+1].length&&(t.value[e+1][l]=o.id);break;case 3:t.value[e]&&l<t.value[e].length&&(t.value[e][l]=o.id),t.value[e]&&l+1<t.value[e].length&&(t.value[e][l+1]=o.id);break;case 4:t.value[e]&&l<t.value[e].length&&(t.value[e][l]=o.id);break}},k=o=>{if(o===0)return"empty";const a=s.find(e=>e.id===o);if(!a)return"empty";switch(a.type){case 1:return`block caocao block-${o}`;case 2:return`block general-v block-${o}`;case 3:return`block general-h block-${o}`;case 4:return`block soldier block-${o}`;default:return"empty"}};return O(()=>{p()}),(o,a)=>(u(),r("div",K,[n("div",R,[a[1]||(a[1]=n("h1",null,"华容道",-1)),n("div",S,[n("div",A,"步数: "+h(d.value),1),n("div",{class:"controls"},[n("button",{onClick:p,class:"restart-btn"},"重新开始")])]),n("div",F,[(u(!0),r(f,null,m(t.value,(e,l)=>(u(),r("div",{key:l,class:"board-row"},[(u(!0),r(f,null,m(e,(b,C)=>(u(),r("div",{key:C,class:x(["cell",k(b)])},null,2))),128))]))),128))],512),v.value?(u(),r("div",L,[a[0]||(a[0]=n("h2",null,"恭喜你完成了华容道！",-1)),n("p",null,"总共用了 "+h(d.value)+" 步",1),n("button",{onClick:p,class:"play-again-btn"},"再玩一次")])):$("",!0)])]))}}),I=D(N,[["__scopeId","data-v-bb81adcf"]]);export{I as default};
//# sourceMappingURL=KlotskiGame-vXF2jKxA.js.map
