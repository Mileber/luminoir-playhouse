import{d as C,r as G,a as u,c as M,o as B,b as v,e as c,f as F,F as z,g as A,t as _,n as H,h as f,_ as N}from"./index-C2rsNQOa.js";const O={class:"history-sorter-game"},V={class:"game-area"},j={class:"events-container"},w=["data-index","onDragstart","onDrop","onTouchstart"],x={key:0,class:"feedback"},L=C({__name:"HistorySorterGame",setup(P){const m=[{id:1,year:-221,description:"Áß¶ÂßãÁöáÁªü‰∏ÄÂÖ≠ÂõΩÔºåÂª∫Á´ãÁß¶Êúù"},{id:2,year:618,description:"ÂîêÊúùÂª∫Á´ã"},{id:3,year:1271,description:"ÂøΩÂøÖÁÉàÂª∫Á´ãÂÖÉÊúù"},{id:4,year:1368,description:"ÊòéÊúùÂª∫Á´ã"},{id:5,year:1644,description:"Ê∏ÖÊúùÂª∫Á´ã"},{id:6,year:1912,description:"‰∏≠ÂçéÊ∞ëÂõΩÊàêÁ´ã"},{id:7,year:1949,description:"‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÊàêÁ´ã"},{id:8,year:1978,description:"ÊîπÈù©ÂºÄÊîæÂºÄÂßã"}],r=G([]),i=u(!1),d=u(""),p=M(()=>[...m].sort((e,t)=>e.year-t.year)),h=()=>{r.length=0;const e=[...m];for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1)),a=e[t];a!==void 0&&e[o]!==void 0&&(e[t]=e[o],e[o]=a)}r.push(...e),i.value=!1,d.value=""},l=u(null),s=u(null),y=(e,t)=>{l.value=t,e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",""))},D=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")},T=(e,t)=>{if(e.preventDefault(),l.value===null||l.value===t)return;const o=r[l.value];o!==void 0&&(r.splice(l.value,1),r.splice(t,0,o),l.value=null)},k=(e,t)=>{s.value=t,e.preventDefault()},b=e=>{if(s.value===null)return;e.preventDefault();const t=e.touches[0];if(!t)return;const a=document.elementFromPoint(t.clientX,t.clientY)?.closest(".event-item");if(!a)return;const n=parseInt(a.getAttribute("data-index")||"-1");if(n===-1||n===s.value)return;const g=r[s.value];g!==void 0&&(r.splice(s.value,1),r.splice(n,0,g),s.value=n)},I=()=>{s.value=null},E=()=>{i.value=!0;let e=!0;for(let t=0;t<r.length;t++){const o=r[t],a=p.value[t];if(o&&a&&o.id!==a.id){e=!1;break}}d.value=e?"üéâ ÂÆåÂÖ®Ê≠£Á°ÆÔºÅ‰Ω†ÂØπÂéÜÂè≤‰∫ÜÂ¶ÇÊåáÊéåÔºÅ":"ÂÜçÊ£ÄÊü•‰∏Ä‰∏ãÂì¶ÔºåÊúâ‰∫õ‰∫ã‰ª∂ÁöÑÈ°∫Â∫è‰∏çÂØπ„ÄÇ"},S=()=>{h()};return B(()=>{h()}),(e,t)=>(f(),v("div",O,[t[0]||(t[0]=c("div",{class:"game-header"},[c("h1",null,"ÂéÜÂè≤‰∫ã‰ª∂ÊéíÂ∫è üìú"),c("p",null,"ËØ∑Â∞Ü‰ª•‰∏ã‰∏≠ÂõΩÂéÜÂè≤‰∫ã‰ª∂ÊåâÊó∂Èó¥ÂÖàÂêéÈ°∫Â∫èÔºà‰ªéÂè§Ëá≥‰ªäÔºâËøõË°åÊéíÂ∫èÔºö")],-1)),c("div",V,[c("div",j,[(f(!0),v(z,null,A(r,(o,a)=>(f(),v("div",{key:o.id,class:H(["event-item",{correct:i.value&&o.id===p.value[a]?.id,incorrect:i.value&&o.id!==p.value[a]?.id,dragging:s.value===a}]),"data-index":a,draggable:"true",onDragstart:n=>y(n,a),onDragover:D,onDrop:n=>T(n,a),onTouchstart:n=>k(n,a),onTouchmove:b,onTouchend:I},_(o.description),43,w))),128))]),c("div",{class:"controls"},[c("button",{onClick:E},"Ê£ÄÊü•È°∫Â∫è"),c("button",{onClick:S},"ÈáçÊñ∞ÂºÄÂßã")]),d.value?(f(),v("div",x,_(d.value),1)):F("",!0)])]))}}),Y=N(L,[["__scopeId","data-v-b1a56cf8"]]);export{Y as default};
//# sourceMappingURL=HistorySorterGame-BxTPl9gR.js.map
