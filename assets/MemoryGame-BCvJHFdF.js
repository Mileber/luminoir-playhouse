import{d as S,r as E,a as o,o as w,b as u,e as a,f as x,t as v,F as j,g as F,n as A,h as d,_ as D}from"./index-LnyyPkwa.js";const I={class:"memory-game"},N={class:"container"},P={class:"game-info"},V={class:"moves"},z={class:"pairs"},J={class:"game-board"},L=["onClick"],R={class:"card-face card-back"},T={class:"emoji"},Z={key:0,class:"game-completed"},_=4,$=S({name:"MemoryGame",__name:"MemoryGame",setup(q){const C=["😀","😂","🥰","😎","🤩","🥳","😍","🤗"],n=E([]),m=o(0),f=o(0),p=o(0),M=o(!1),l=o(null),i=o(null),h=o(!1),k=()=>{m.value=0,f.value=0,M.value=!1,l.value=null,i.value=null,h.value=!1,n.length=0,p.value=_*_/2;const s=[];for(let t=0;t<p.value;t++)C[t]!==void 0&&(s.push(C[t]),s.push(C[t]));B(s);let e=0;for(let t=0;t<_;t++){const r=[];for(let c=0;c<_;c++)s[e]!==void 0&&r.push({emoji:s[e],isFlipped:!1,isMatched:!1}),e++;n.push(r)}},B=s=>{for(let e=s.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));s[e]!==void 0&&s[t]!==void 0&&([s[e],s[t]]=[s[t],s[e]])}},G=(s,e)=>{const t=n[s]?.[e];if(!(h.value||!t||t.isFlipped||t.isMatched)){if(t&&(t.isFlipped=!0),!l.value){l.value={row:s,col:e};return}i.value={row:s,col:e},m.value++,y()}},y=()=>{if(!l.value||!i.value)return;const s=n[l.value.row][l.value.col],e=n[i.value.row][i.value.col];s.emoji===e.emoji?(s.isMatched=!0,e.isMatched=!0,f.value++,b(),O()):(h.value=!0,setTimeout(()=>{s.isFlipped=!1,e.isFlipped=!1,b(),h.value=!1},1e3))},b=()=>{l.value=null,i.value=null},O=()=>{f.value===p.value&&(M.value=!0)};return w(()=>{k()}),(s,e)=>(d(),u("div",I,[a("div",N,[e[2]||(e[2]=a("h1",null,"翻翻乐",-1)),a("div",P,[a("div",V,"步数: "+v(m.value),1),a("div",z,"配对: "+v(f.value)+"/"+v(p.value),1),a("div",{class:"controls"},[a("button",{onClick:k,class:"restart-btn"},"重新开始")])]),a("div",J,[(d(!0),u(j,null,F(n,(t,r)=>(d(),u("div",{key:r,class:"board-row"},[(d(!0),u(j,null,F(t,(c,g)=>(d(),u("div",{key:g,class:A(["card",{flipped:c.isFlipped,matched:c.isMatched}]),onClick:H=>G(r,g)},[e[0]||(e[0]=a("div",{class:"card-face card-front"},null,-1)),a("div",R,[a("span",T,v(c.emoji),1)])],10,L))),128))]))),128))]),M.value?(d(),u("div",Z,[e[1]||(e[1]=a("h2",null,"恭喜你完成了游戏！",-1)),a("p",null,"总共用了 "+v(m.value)+" 步",1),a("button",{onClick:k,class:"play-again-btn"},"再玩一次")])):x("",!0)])]))}}),Q=D($,[["__scopeId","data-v-c94ba1ee"]]);export{Q as default};
//# sourceMappingURL=MemoryGame-BCvJHFdF.js.map
