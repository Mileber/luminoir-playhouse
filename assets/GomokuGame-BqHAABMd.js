import{d as A,a as k,c as I,o as P,b,e as _,f as R,t as E,h as x,_ as M}from"./index-LnyyPkwa.js";const T={class:"gomoku-game"},W={class:"game-container"},D={class:"game-info"},n=15,L=A({name:"GomokuGame",__name:"GomokuGame",setup(N){const o=400/n,a=k(Array(n).fill(0).map(()=>Array(n).fill(0))),v=k(1),m=k(!1),h=k(0),y=k(null),G=I(()=>m.value?h.value===1?"黑棋获胜！":"白棋获胜！":v.value===1?"当前回合: 黑棋":"当前回合: 白棋"),p=()=>{a.value=Array(n).fill(0).map(()=>Array(n).fill(0)),v.value=1,m.value=!1,h.value=0,C()},S=()=>{p()},C=()=>{const l=y.value;if(!l)return;const e=l.getContext("2d");if(e){e.fillStyle="#f3d2b5",e.fillRect(0,0,400,400),e.strokeStyle="#000",e.lineWidth=1;for(let t=0;t<n;t++)e.beginPath(),e.moveTo(o/2,o/2+t*o),e.lineTo(400-o/2,o/2+t*o),e.stroke();for(let t=0;t<n;t++)e.beginPath(),e.moveTo(o/2+t*o,o/2),e.lineTo(o/2+t*o,400-o/2),e.stroke();for(let t=0;t<n;t++)for(let i=0;i<n;i++)if(a.value[t]&&a.value[t]?.[i]!==0){const d=o/2+i*o,s=o/2+t*o;e.beginPath(),e.arc(d,s,o/2-2,0,Math.PI*2),a.value[t]&&a.value[t]?.[i]===1?e.fillStyle="#000":(e.fillStyle="#fff",e.strokeStyle="#000",e.lineWidth=1,e.stroke()),e.fill()}}},w=l=>{if(m.value)return;const e=y.value;if(!e)return;const t=e.getBoundingClientRect(),i=l.clientX-t.left,d=l.clientY-t.top,s=Math.round((i-o/2)/o),r=Math.round((d-o/2)/o);r>=0&&r<n&&s>=0&&s<n&&r>=0&&r<n&&s>=0&&s<n&&a.value[r]?.[s]===0&&(a.value[r]&&(a.value[r][s]=v.value),B(r,s)?(m.value=!0,h.value=v.value):v.value=v.value===1?2:1,C())},B=(l,e)=>{const t=[[0,1],[1,0],[1,1],[1,-1]];if(l<0||l>=n||e<0||e>=n)return!1;const i=a.value[l]?.[e];for(const d of t){const s=d[0],r=d[1];let g=1;for(let c=1;c<5;c++){const u=l+c*s,f=e+c*r;if(u>=0&&u<n&&f>=0&&f<n&&a.value[u]&&a.value[u][f]===i)g++;else break}for(let c=1;c<5;c++){const u=l-c*s,f=e-c*r;if(u>=0&&u<n&&f>=0&&f<n&&a.value[u]&&a.value[u][f]===i)g++;else break}if(g>=5)return!0}return!1};return P(()=>{p()}),(l,e)=>(x(),b("div",T,[e[0]||(e[0]=_("h1",null,"五子棋",-1)),_("div",W,[_("canvas",{ref_key:"gomokuCanvas",ref:y,width:"400",height:"400",onClick:w},null,512),_("div",D,[_("p",null,E(G.value),1),m.value?(x(),b("button",{key:0,onClick:S},"重新开始")):R("",!0)])])]))}}),V=M(L,[["__scopeId","data-v-464a8b10"]]);export{V as default};
//# sourceMappingURL=GomokuGame-BqHAABMd.js.map
